# 変更履歴

このプロジェクトに対する注目すべき変更をこのファイルに記録します。

このファイルの形式は [Keep a Changelog](https://keepachangelog.com/ja/1.0.0/) に基づいており、
このプロジェクトは [セマンティックバージョニング](https://semver.org/lang/ja/) に準拠しています。

## [0.1.1] - 2026-02-06

### 追加

- **シンボルID機能**: 各シンボルに一意の識別子を付与
  - `--id-prefix`: シンボルIDのプレフィックスを指定できるようになりました（デフォルト: `CD`）
  - INDEX.md: シンボル名の前に `[CD1]` 形式でIDを表示
  - MAP.json: `id` フィールドを先頭に追加
  - parts/: ヘッダに `id: CD1` 行を追加

- **テスト**: ID機能に関するテストを追加

### 変更

- Symbol モデルに `id` フィールドを追加

## [0.1.0] - 2026-01-27

初回リリース。Python・Java両言語に対応したMVP版。

### 追加

- **CLIコマンド**: `code2map build` コマンドを実装
  - `--out`: 出力ディレクトリを指定できるようになりました
  - `--lang`: 言語を明示的に指定できるようになりました（省略時は拡張子から自動検出）
  - `--verbose`: 詳細なログを出力できるようになりました
  - `--dry-run`: 実際にファイルを生成せず、計画のみ表示できるようになりました

- **Pythonパーサー**: `ast`モジュールを使用した解析機能
  - クラス、メソッド、関数の抽出に対応
  - Docstringの抽出に対応
  - 呼び出し関係の推定に対応
  - Import情報の収集に対応

- **Javaパーサー**: `javalang`ライブラリを使用した解析機能
  - クラス、メソッド、フィールドの抽出に対応
  - Javadocの抽出に対応
  - 呼び出し関係の推定に対応
  - ネストクラス、コンストラクタ、オーバーロードに対応

- **INDEX.md生成**: クラス/メソッド/関数の一覧と役割を記載したMarkdown索引
  - 呼び出し関係（Calls）の表示
  - 副作用（Side Effects）の検出・記載
  - 警告（`[WARNING]`）の埋め込み

- **parts/生成**: ソースコードをクラス/メソッド単位で分割
  - メタデータヘッダの付与
  - 言語別コメントプレフィックス対応
  - 名前衝突回避のためのハッシュサフィックス

- **MAP.json生成**: 機械可読な対応表（JSON形式）
  - シンボル情報の完全なマッピング
  - SHA-256チェックサムの計算

- **テスト**: ユニットテスト、e2eテスト、エッジケーステストを整備

- **CI/CD**: GitHub Actionsによる自動テスト（Python 3.9〜3.12対応）

### 既知の制限事項

このバージョンには以下の制限があります：

- 単一ファイルのみ対応（ディレクトリ単位の解析は未対応）
- 静的解析のみ対応（動的ディスパッチ、リフレクションは考慮しない）
- クラス/メソッド単位の分割のみ（処理フェーズ単位の分割は未対応）
- 対応言語はJavaとPythonのみ

## リンク

- [リポジトリ](https://github.com/elvezjp/code2map)
- [Issueトラッカー](https://github.com/elvezjp/code2map/issues)
