# セキュリティポリシー

## サポートバージョン

セキュリティサポート対象のバージョンは以下の通りです。常に最新バージョンの使用を推奨します。

| バージョン | サポート状況       |
| ---------- | ------------------ |
| 0.1.x      | :white_check_mark: |

## 脆弱性の報告

add-line-numbers にセキュリティ上の脆弱性を発見した場合は、以下の手順に従って責任ある報告をお願いします：

### 報告方法

1. セキュリティ脆弱性に関して公開の GitHub Issue を作成**しないでください**
2. 以下の方法でメンテナーに詳細なレポートを送信してください：
   - GitHub のプライベートセキュリティアドバイザリを作成する（推奨）
   - メールで報告（README の問い合わせ先を参照）

### 報告に含める内容

レポートには以下の情報を含めてください：

- 脆弱性の説明
- 問題を再現する手順
- 潜在的な影響と重大度
- 修正案や緩和策の提案（可能であれば）
- 連絡先情報（任意）

### 報告例

```
件名: [SECURITY] ファイル処理時の潜在的な脆弱性

説明:
特定の条件下でファイル処理時に予期しない動作が発生する可能性があります。

再現手順:
1. 特定の形式のファイルを inputs/ ディレクトリに配置
2. python add_line_numbers.py を実行
3. 出力を確認

影響:
予期しないファイル内容が出力される可能性があります。

修正案:
入力ファイルの検証を強化する。
```

## 対応スケジュール

- **初回応答**: 48時間以内
- **状況更新**: 7日以内
- **解決**: 重大度に応じて
  - 緊急: 14日以内
  - 高: 30日以内
  - 中: 60日以内
  - 低: 次回リリースサイクル

## セキュリティに関する考慮事項

### ファイル処理

add-line-numbers はテキストファイルを処理するツールです：

- UTF-8 テキストファイル（.py, .java, .js, .json, .xml, .md, .txt など）
- 入力ディレクトリから出力ディレクトリへファイルをコピー

**推奨事項:**

1. 信頼できるソースからのファイルのみを処理する
2. 出力ディレクトリに機密ファイルが含まれていないことを確認する
3. 共有する前に出力ファイルの内容を確認する

### 入力検証

add-line-numbers には以下のセキュリティ対策が含まれています：

- UTF-8 以外のファイルは自動的にスキップ
- バイナリファイルは自動的にスキップ
- 存在しない入力ディレクトリはエラーで終了

### 出力のセキュリティ

生成されたファイルを使用する際の注意点：

- 出力ファイルには入力ファイルの内容がそのまま含まれます（行番号が追加されるのみ）
- 機密情報を含むファイルを処理した場合、出力にも機密情報が含まれます
- 出力を共有する前に内容を確認してください

### 依存関係

このプロジェクトは外部ライブラリに依存していません：

- Python 3.8+ の標準ライブラリのみを使用
- pip install は不要
- 外部依存関係がないため、サプライチェーン攻撃のリスクが低減されています

## セキュリティのベストプラクティス

add-line-numbers を使用する際の推奨事項：

1. **最新版を維持**: 常に最新バージョンを使用する
2. **入力を確認**: 処理前にファイルを検査する
3. **サンドボックス処理**: 信頼できないファイルを処理する場合は、隔離された環境（コンテナや VM）で実行する
4. **出力を検証**: 使用前に生成されたファイルを確認する
5. **権限を制限**: 必要最小限の権限で実行する

## 既知のセキュリティ制限

1. **ファイルサイズ**: 非常に大きなファイルはメモリの問題を引き起こす可能性があります
2. **エンコーディング**: UTF-8 以外のファイルは処理されません

## セキュリティアップデート

セキュリティアップデートは以下の形式でリリースされます：

- 軽微な問題にはパッチバージョン（例: 0.1.1）
- 重大な問題にはマイナーバージョン（例: 0.2.0）

## 謝辞

脆弱性を責任を持って報告してくださるセキュリティ研究者に感謝します。

## ご質問

脆弱性ではないセキュリティ関連のご質問は、以下の方法でお問い合わせください：

- 「security」ラベルを付けて Issue を作成
- README の問い合わせ先まで
