# 設計書: 20260121AIオーディター形式サンプルコーディング規約.xlsx
- 役割: メイン
- 種別: 設計書
- 注意事項: 機能仕様が正しく実装されているかを確認してください

## コーディング規約一覧
| このコーディング規約ファイルは、AIオーディターで読み込むためのファイルです。 | Unnamed: 1 | Unnamed: 2 | Unnamed: 3 | Unnamed: 4 |
| --- | --- | --- | --- | --- |
| https://qiita.com/fsd-fukufuku/items/cfbf30e568ef9113c099 の記事を参考に作成しています。 | NaN | NaN | NaN | NaN |
| 項番 | 分類 | カテゴリ | 概要 | 説明 |
| 1 | 命名規則 | 全般 | 名前には英単語を使用する | リンク |
| 2 | NaN | クラス | クラス名は役割を表す名前にする | NaN |
| 3 | NaN | NaN | クラス名はPascal形式で記述する | NaN |
| 4 | NaN | メソッド | メソッド名は目的のわかる名前にする | NaN |
| 5 | NaN | NaN | メソッド名はCamel形式で記述する | NaN |
| 6 | NaN | 変数 | 変数名は用途のわかる名前にする | NaN |
| 7 | NaN | NaN | 変数名はCamel形式で記述する | NaN |
| 8 | NaN | NaN | 定数名はすべて大文字でアンダースコア区切りにする | NaN |
| 9 | NaN | パッケージ | パッケージ名はすべて小文字にする | NaN |
| 10 | NaN | NaN | パッケージ名はドメインの逆順にする | NaN |
| 11 | コーディング | 全般 | 1つのクラスは1つのソースファイルで定義する | NaN |
| 12 | NaN | NaN | 1つのメソッドは50行以内にする | NaN |
| 13 | NaN | NaN | ネストは3段階以内にする | NaN |
| 14 | NaN | スタイル | クラス定義の記述順序を守る | リンク |
| 15 | NaN | NaN | 110行を超える行は改行または文を分割する | NaN |
| 16 | NaN | NaN | インデントは半角の空白文字を使い4桁分とする | NaN |
| 17 | NaN | NaN | 中括弧は省略しない | NaN |
| 18 | NaN | 制御構造 | if-elseのネストよりもearly returnを使う | NaN |
| 19 | NaN | NaN | switch文にはdefaultケースを必ず書く | NaN |
| 20 | NaN | NaN | forループよりもStream APIの利用を検討する | NaN |
| 21 | NaN | 例外処理 | 例外は握りつぶさない | NaN |
| 22 | NaN | NaN | 汎用的な例外をキャッチしない | NaN |
| 23 | NaN | NaN | 業務例外と実行時例外を区別する | NaN |
| 24 | コメント | Javadoc | Javadocの記述を揃える | NaN |
| 25 | NaN | NaN | publicメソッドにはJavadocを必ず記述する | NaN |
| 26 | NaN | NaN | パラメータと戻り値の説明を省略しない | NaN |
| 27 | NaN | インライン | TODOコメントには担当者と期限を記載する | NaN |
| 28 | NaN | NaN | コメントアウトしたコードは残さない | NaN |
| 29 | テスト | 単体テスト | テストメソッド名は日本語で目的を記述する | NaN |
| 30 | NaN | NaN | 1テストメソッドにつき1アサーションを原則とする | NaN |
| 31 | NaN | NaN | テストデータはテストメソッド内で定義する | NaN |
| 32 | NaN | カバレッジ | C1カバレッジ80%以上を目標とする | NaN |
| 33 | NaN | NaN | 境界値テストを必ず含める | NaN |
| 34 | セキュリティ | 入力検証 | 外部入力は必ずバリデーションする | NaN |
| 35 | NaN | NaN | SQLインジェクション対策としてプリペアドステートメントを使用する | NaN |
| 36 | NaN | NaN | XSS対策として出力時にエスケープする | NaN |
| 37 | NaN | 認証・認可 | パスワードはハッシュ化して保存する | NaN |
| 38 | NaN | NaN | 認可チェックはコントローラー層で行う | NaN |
| 39 | NaN | ログ | 機密情報をログに出力しない | NaN |
| 40 | NaN | NaN | ログレベルを適切に使い分ける | NaN |

### 補足

本規約は社内標準として策定されたものであり、プロジェクト固有の事情がある場合はチームリーダーの承認のもとで例外を認める。規約の改定提案はコードレビュー会議で受け付ける。

## 命名規則全般（1）
| 概要 |
| --- |
| 名前には英単語を使用する |
| 内容 |
| 原則として英単語を使用する。 |
| 日本語をローマ字にしたものはやめること |
| 良い例 |
| public void setOrderAmount() |
| 悪い例 |
| public void setJuchukingaku() |

## 命名規則クラス（1）

クラス名はそのクラスが担う責務や役割を的確に表現する名前にすること。クラス名を見ただけでそのクラスの目的が理解できるようにする。

| 概要 |
| --- |
| クラス名は役割を表す名前にする |
| 内容 |
| クラスの責務が明確にわかる名前を付ける。曖昧な名前や汎用的すぎる名前は避ける。 |
| 良い例 |
| OrderService, CustomerRepository, InvoiceValidator |
| 悪い例 |
| Manager, Data, Info, Util（単体での使用） |

クラス名を決める際には以下の観点を考慮する。

まず、クラスの責務を一言で説明できるか確認する。説明が「〜と〜をする」のように複数の責務を含む場合は、クラスの分割を検討する。単一責任の原則（SRP）に従い、1つのクラスは1つの理由でのみ変更されるべきである。

次に、パッケージ内での名前の一貫性を確認する。同じパッケージ内のクラス名が統一された命名パターンに従っているか確認する。例えば、サービス層のクラスはすべて`〜Service`、リポジトリ層はすべて`〜Repository`のように統一する。

また、名前の長さについては、短すぎるよりも長くても明確な方が望ましい。ただし、不必要に冗長な名前は避ける。目安として、クラス名は2〜4単語程度が適切である。

---

メソッド名は、そのメソッドが何をするのかが明確にわかる名前にする。メソッドの目的・動作を動詞または動詞句で表現する。

| 概要 |
| --- |
| メソッド名は目的のわかる名前にする |
| 内容 |
| メソッドの動作を的確に表す動詞から始める。取得はget、設定はset、判定はis/has/can、変換はto/convert、検証はvalidate等の接頭辞を使い分ける。 |
| 良い例 |
| calculateTotalAmount(), findActiveUsers(), isExpired() |
| 悪い例 |
| doProcess(), execute(), handle()（文脈なしでの使用） |

メソッド名を決める際の指針として、以下のプレフィックスを用途に応じて使い分ける。

データ取得系のメソッドには`get`（単一取得）、`find`（検索）、`fetch`（外部取得）、`list`（一覧取得）を使用する。データの存在有無によって`get`はnullを返さず例外を投げ、`find`はOptionalやnullを返すという規約とする。

データ更新系のメソッドには`set`（値設定）、`update`（更新）、`save`（保存）、`register`（登録）、`delete`/`remove`（削除）を使用する。`save`は新規作成と更新の両方を含む場合に使い、明確に区別する場合は`create`と`update`を使い分ける。

判定系のメソッドには`is`（状態判定）、`has`（所有判定）、`can`（可否判定）、`should`（推奨判定）を使用する。これらのメソッドは必ずboolean型を返すこと。
